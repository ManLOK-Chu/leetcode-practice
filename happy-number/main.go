package main

import "fmt"

//var result = map[int]int{1: 1, 2: 4, 3: 9, 4: 16, 5: 25, 6: 36, 7: 49, 8: 64, 9: 81, 10: 1, 11: 2, 12: 5, 13: 10, 14: 17, 15: 26, 16: 37, 17: 50, 18: 65, 19: 82, 20: 4, 21: 5, 22: 8, 23: 13, 24: 20, 25: 29, 26: 40, 27: 53, 28: 68, 29: 85, 30: 9, 31: 10, 32: 13, 33: 18, 34: 25, 35: 34, 36: 45, 37: 58, 38: 73, 39: 90, 40: 16, 41: 17, 42: 20, 43: 25, 44: 32, 45: 41, 46: 52, 47: 65, 48: 80, 49: 97, 50: 25, 51: 26, 52: 29, 53: 34, 54: 41, 55: 50, 56: 61, 57: 74, 58: 89, 59: 106, 60: 36, 61: 37, 62: 40, 63: 45, 64: 52, 65: 61, 66: 72, 67: 85, 68: 100, 69: 117, 70: 49, 71: 50, 72: 53, 73: 58, 74: 65, 75: 74, 76: 85, 77: 98, 78: 113, 79: 130, 80: 64, 81: 65, 82: 68, 83: 73, 84: 80, 85: 89, 86: 100, 87: 113, 88: 128, 89: 145, 90: 81, 91: 82, 92: 85, 93: 90, 94: 97, 95: 106, 96: 117, 97: 130, 98: 145, 99: 162, 100: 1}

func isHappy(n int) bool {
	var m = make(map[int]bool)
	for {
		n = getSum(n)
		if n == 1 {
			return true
		}
		if m[n] {
			return false
		}
		m[n] = true
	}
}

func getSum(n int) int {
	var sum int
	//if sum = result[n]; sum != 0 {
	//	return sum
	//}
	for n != 0 {
		sum += (n % 10) * (n % 10)
		n /= 10
	}
	return sum
}

func main() {
	fmt.Println(isHappy(19))
	fmt.Println(isHappy(2))
}
